Modules.create :testapp do

    app_module :long do

        cores 1

        execution 2 do

                  

                   calculate "10"

                   spawn  :id=>:sp1, :module=>:short, :instances=>1, :data_send=>"20MB",  :data_receive =>"20MB"

                   calculate "100"

                   receive :sp1

                   calculate "50"
                  
  
   
          end

     end

      app_module :short do

              cores 2

             execution do
                     calculate "5000"
              end

      end

end

Modules.execute :mod1
#Modules.execute :mod2
